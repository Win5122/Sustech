本科生毕业设计（论文）
题 目： 基于 GPS 数据的电动汽车
充放电特征挖掘与可视化
姓 名： 周民涛
学 号： 11912725
系 别： 计算机科学与工程系
专 业： 计算机科学与技术
指导教师： 宋轩 副教授
2023 年 5 月 1 日
诚信承诺书
1. 本人郑重承诺所呈交的毕业设计（论文），是在导师的指导下，
独立进行研究工作所取得的成果，所有数据、图片资料均真实可靠。
2. 除文中已经注明引用的内容外，本论文不包含任何其他人或
集体已经发表或撰写过的作品或成果。对本论文的研究作出重要贡
献的个人和集体，均已在文中以明确的方式标明。
3. 本人承诺在毕业论文（设计）选题和研究内容过程中没有抄袭
他人研究成果和伪造相关数据等行为。
4. 在毕业论文（设计）中对侵犯任何方面知识产权的行为，由本
人承担相应的法律责任。
作者签名:
2023 年 5 月 1 日
基于 GPS 数据的电动汽车
充放电特征挖掘与可视化
周民涛
（计算机科学与工程系 指导教师：宋轩）
[摘要]：随着电动汽车的普及和充电需求的日益增长，推动电动汽车智
慧化、平台化发展成为智慧城市与交通应用的重要问题。本文基于 GPS
数据的电动汽车充放电特征挖掘与可视化，构建了一个智能电动汽车云
平台。平台综合考虑了电动汽车的行车信息、充电状态和充电站信息等
多方面因素，以多样的可视化方式展示了数据挖掘的结果。通过全面而
直观的视角为研究人员和决策者提供了帮助，为电动汽车领域的研究和
应用提供了重要的参考价值。
[关键词]： GPS；电动汽车；充电；数据挖掘；可视化
I
[ABSTRACT]: Withthepopularityofelectricvehicles(EV)andtheincreas-
ing demand for charging, promoting the development of smart and platform
electricvehicleshasbecomeanimportantissueforsmartcityandtransportation
applications. Inthispaper,anintelligentEVcloudplatformisconstructedbased
on the mining and visualization of EV charging and discharging features from
GPS data. The platform takes into account various factors such as EV travel
information, charging status and charging station information, and presents the
data mining results in a variety of visualizations. It helps researchers and deci-
sion makers through a comprehensive and intuitive view, and provides impor-
tantreferencevaluesforresearchandapplicationinthefieldofelectricvehicles.
[Key words]: GPS; electric vehicle; charging; data mining; visualization
II
目录
1. 引言 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2. 相关工作 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.1 电动汽车充放电数据挖掘相关技术综述 . . . . . . . . . . . . . . . . 2
2.2 电动汽车充放电特征分析中的可视化技术应用综述 . . . . . . . . 3
2.3 电动汽车充放电行为的多维度分析 . . . . . . . . . . . . . . . . . . . 4
3. 方法与设计 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
3.1 数据集 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
3.2 噪声 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
3.3 数据特征 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
3.4 充放电行为识别 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
3.5 Fast unfolding 社区发现算法 . . . . . . . . . . . . . . . . . . . . . . . . 9
3.6 项目框架与界面设计 . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
3.6.1 可视化框架 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
3.6.2 项目总体框架 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
3.6.3 可视化平台界面设计 . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
4. 平台部署与案例分析 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
4.1 平台部署 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
4.2 案例分析 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
4.2.1 交通路网 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
4.2.2 车辆轨迹 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
III
4.2.3 充电站社区建设 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
4.2.4 充电需求负荷曲线 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
4.2.5 充电需求热力图 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
4.2.6 充电站供需分析 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
5. 结论 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
参考文献 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
致谢 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26
IV
1. 引言
随着中国经济的飞速发展和汽车产业的蓬勃壮大，新能源汽车用户数量呈现出
持续增长趋势，电动汽车充电需求也在逐年攀升，但充电基础设施匮乏加剧城市充电
资源供需不平衡，“充电难”成为电动汽车推广过程中的一大瓶颈。在这一大背景下，
2015年10月9日，国家发展和改革委员会、国家能源局、工业和信息化部、住房和
城乡建设部联合发布了《电动汽车充电基础设施发展指南（2015-2020 年）》。该指南
强调了充电智能服务平台建设的重要性，并提出了一系列指导方针。其中要求充电智
能服务平台应与充电基础设施建设同步发展，运用互联网、物联网、智能交通、大数
据等前沿技术，借助“互联网+充电基础设施”的模式，积极推动电动汽车与智能电
网之间的能量和信息互动，进而提升充电服务的智能化水平。因此，深入分析挖掘电
动汽车的GPS 及充电数据，有望实现上述目标并推动电动汽车智能化发展。
本研究的意义主要体现在以下三个方面：
1. 推进电动汽车的智能化发展：本研究揭示电动汽车的充放电特征，探讨其对
国家电网的负荷影响，促进充电基础设施规划和智能能源管理的优化，推动了电动汽
车的智能化发展。
2. 推进电动汽车的平台化发展：本研究通过可视化技术展现电动汽车充放电特
征，全面而直观的呈现数据挖掘的结果，同时平台促进了数据共享性，协作性与操作
性，从而促进电动汽车的平台化发展。
3. 推进电动汽车可持续化发展：本研究通过构建充电站社区，优化充电基础设
施的部署，减少能源浪费，并辅助政策制定者进行决策，为电动汽车的可持续发展做
出贡献。
基于上述背景与研究意义下，本次项目的目标是开发一个智能电动汽车云平台。
这种创新的分析平台有望显著改善城市充电资源供需能力与充电管理能力，为实现
资源节约型、环境友好型的城市做出贡献。
2. 相关工作
在数据挖掘与可视化领域，许多学者已进行了大量的研究，为本文的研究提供了
丰富的理论支持和方法指导，以下是一些与本研究密切相关的工作：
1
2.1 电动汽车充放电数据挖掘相关技术综述
1.基于物理模型的电动汽车充放电数据挖掘技术
在电动汽车充放电数据的挖掘方面，物理模型建模和模型求解方法在诸多研究
中占据了重要地位。物理模型通常基于电动汽车充放电过程的物理原理来构建，有助
于更深入地理解电池的性能和寿命。而模型求解方法则为解决这些物理模型提供了
有效的手段。
例如，单粒子模型 (Single Particle Model, SPM)[1], 一种基于电化学原理的电池模
型. 该模型简化了电池的内部结构，通过求解偏微分方程来预测电池的电压、电流和
状态。这种模型在电池管理系统中被广泛应用，为充放电控制策略的设计提供了理论
依据。
同样，其他研究者还利用模型预测控制 (Model Predictive Control, MPC)[2]方法来
优化电动汽车的充放电过程。利用模型预测控制方法，结合电池模型和车辆动力学模
型，实现了电动汽车充电过程的优化。该方法可以确保电池在安全范围内工作，同时
提高充电效率和延长电池寿命。
在物理模型求解方面，许多优化算法和数值方法被广泛采用。例如，遗传算法
(GeneticAlgorithm,GA)[3]和粒子群优化(ParticleSwarmOptimization,PSO)[4]等进化算
法在电池充放电优化中取得了显著的成果。此外，有限元方法(FiniteElementMethod,
FEM)[5]和有限差分法(FiniteDifferenceMethod,FDM)[6]等数值求解技术也在电池模型
求解中发挥了关键作用。
2.基于深度学习的电动汽车充放电数据挖掘技术
在电动汽车充放电数据的挖掘方面，深度学习驱动的方法在近年来引起了广泛
关注。深度学习技术，尤其是卷积神经网络(CNN[7])、循环神经网络(RNN[8])和长短
时记忆网络(LSTM[9])等深度学习模型，为挖掘电动汽车充放电数据提供了强大的工
具。这种方法可以自动地从大量数据中提取出有用特征，具有很好的可扩展性和适应
性，但需要考虑神经网络的复杂度和训练时间。如 DCRNN[10], Graph WaveNet[11][12],
STGCN[13]。
此外，Ma(2022)[9]提出了一种基于长短时记忆网络(LSTM)的方法来预测电动汽
2
车充电需求。通过学习充电数据的时序特征，LSTM能够更准确地预测未来的充电需
求，从而为充电设施的规划和管理提供了有力支持。
3.基于数据驱动的数据挖掘技术
数据驱动的方法同样备受众多研究者关注。基于数据驱动的数据挖掘技术通过
对数据的分析来挖掘特征，不依赖于先验的物理模型，而是直接从数据中提取特征。
这种方法具有很好的适应性和可扩展性，对非线性和复杂系统表现尤为出色。例如，
Wang[14]采用了两种经典的数据分析算法：K-means[15]和Apriori[16]。其中，K-means算
法用于对用户进行聚类，然后对所有类别进行详细分析，Apriori 算法则用于研究天
气和假期对用户充电的影响，最后采用统计方法分析了三个典型地区的收费特点以
及温度和收费之间的关系，以帮助充电管理平台更好地了解用电动汽车用户的充电
行为的需求。
此外，基于手机数据的数据挖掘，对手机使用者的日常活动和行为模式展开研
究，更多详细信息，可参阅下述更为全面的文献综述[17][18][19][20]。
2.2 电动汽车充放电特征分析中的可视化技术应用综述
近年来，学术界在电动汽车充放电数据的可视化方面进行了广泛研究。数据可视
化对于直观准确展示电动汽车充放电数据、提高数据分析效率以及更好地理解数据
所蕴含的信息具有重要作用。
首先，时空数据可视化方法在电动汽车充放电数据分析中扮演关键角色。通过运
用地理信息系统 (Geographic Information System, GIS)[21]技术，研究者能够将电动汽
车的充放电活动数据与具体的地理位置相对应，从而展示特定区域电动汽车的充电
需求或充电设施的空间分布情况。此外，基于轨迹数据的可视化技术可用于呈现电动
汽车在时间和空间维度上的运动轨迹，有助于分析不同时间段内车辆的充放电行为
特征。
其次，在电池状态的可视化方面[22]，一些研究者采用热力图、雷达图等图形来展
示电池的状态参数，如电压、温度和容量等。这些可视化方法能够协助工程师和研究
者快速评估电池的健康状况，从而为电池管理系统的优化提供依据。
3
2.3 电动汽车充放电行为的多维度分析
研究学者们通过多维度对电动汽车的充放电行为进行了研究，包括COVID-19疫
情的影响、天气因素和假期影响。
COVID-19疫情的影响[23]：研究者在COVID-19大流行期间对电动汽车充电行为
进行了分析，发现封锁期间公共充电行为受到显著影响。由于出行限制和公共场所关
闭，充电活动出现下降。然而，随着疫苗接种增加和限制解除，充电活动逐渐恢复到
一定程度。
天气因素的影响[24]：研究者研究了天气对电动汽车充放电行为的影响，包括气
温、降水和风速等因素。研究发现，高温天气可能会影响电动汽车的充电速度和电池
性能，降水和恶劣的天气条件可能影响驾驶者的出行决策和充电行为。
假期影响[25]：研究者还探讨了假期对电动汽车充放电行为的影响。研究表明，在
假期期间，人们的出行行为和充电需求可能会有所变化。在节假日或长周末期间，人
们可能倾向于长途旅行，导致充电需求增加。
基于以上相关工作的理论支持和方法指导，本研究将从基于数据驱动的数据挖
掘技术开展项目，结合可视化技术和案例分析对电动汽车充放电特征进行分析展示，
以支持电动汽车的充电管理和规划。
3. 方法与设计
3.1 数据集
本研究采用的数据集分为两部分：电动汽车数据集和充电站数据集。
电动汽车数据集来源于上海地区的 2000 辆电动汽车，时间范围为 2020 年 10 月
至 12 月，共计 3 个月。时间段涵盖了冬季和国庆假期，具有一定的代表性。该数据
集涉及的电动汽车类型包括330辆BEV（纯电动汽车）、1639辆PHEV（插电式混合
动力汽车）以及31辆REEV（增程式电动汽车）。数据集包含了每辆电动汽车的多个
维度的数据，如 GPS 信息、电量情况、充电状态、车辆型号和电池信息等。详细的
车辆数据字段解释与数值说明可参见表1。
4
充电站数据集包含了490个充电站的相关信息，包括可用充电桩数量、充电站的
经纬度坐标、充电站ID 和运营类型等。详细的充电站数据字段解释可参见表2。
本研究对电动汽车数据集进行了时序分析，评估数据集的时间完整性和规律性。
各月电动汽车数据集以60分钟的间隔进行分组集合，可视化结果如图1所示。分
析发现，除国庆假期数据集周期出现异常外，数据集整体呈现出 7 天的周期性规律。
此外工作日呈现双峰型或多峰型分布，周末数据量呈现单峰型分布，且工作日数据量
明显高于周末的数据量。推测可能与通勤时间，工作时间和出行需求等因素有关。工
作日里人们出行需求较大，电动汽车的使用频率相应地较高，集中在上下班高峰期。
而在周末，人们的出行需求可能有所减少，电动汽车的使用频率相对低且分散。
5
图1 数据时间分布
此外，为研究上海区域数据的特殊性，项目需要爬虫获取上海行政区数据。项
目通过开发者Key访问高德地图API，使用Python的Requests和BeautifulSoup库解
析并提取详细的上海行政区地理信息数据后，使用 json 库与 open 函数将数据转换为
JSON 格式，并保存为shanghai.json文件。
3.2 噪声
本项目在电动汽车数据分析过程中，发现数据集存在多种数据质量问题，包括
GPS噪声、无效数据噪声、异常数据噪声、空白数据噪声和重复数据噪声等。为了提
高数据分析的效果和可信度，本项目采用了一系列数据处理方法来解决这些问题。
项目使用transbigdata[26]对数据集的GPS噪声进行了清洗处理，有效地纠正数据
集的GPS 坐标漂移问题，提高数据的准确性和可信度。
根据电动汽车数据字段解释的定义，对数据集进行了过滤处理，以消除无效数据
和异常数据对分析结果的影响。例如，在处理充电状态数据时，过滤了电动汽车数据
集中充电状态字段（vehicledata_chargestatus）数值为254和255的数据。
项目采用插值和清除技术来处理数据缺失问题。通过如插值回归法，用原始数据
的趋势和规律进行数据插补，大部分数据得到了恢复；同时，从数据集中直接剔除了
剩余的空白数据，以提高数据的完整性。
为了处理重复数据，本项目进行了数据去重和合并。具体而言，完全重复的数据
被保留为唯一数据，对时间间隔短且行车状态、充电状态、GPS位置相同的数据进行
6
了合并。
此外，项目还对研究区域的数据进行了筛选。具体而言，对于经纬度坐标数据超
出上海行政区范围的数据被会被剔除。
项目通过以上数据处理方法，显著提升了数据集质量，从而为后续的特征挖掘，
分析和可视化工作奠定了坚实的基础。
3.3 数据特征
本研究的数据集具有以下特征：
1. 时间范围广泛：数据集涵盖了 2020 年 10 月至 12 月的三个月，包括冬季和国
庆假期，因此具有较好的代表性。
2. 车辆类型丰富：数据集包含了多种类型的电动汽车，包括纯电动汽车（BEV）、
插电式混合动力汽车（PHEV）和增程式电动汽车（REEV），共计2000辆。
3. 多维度数据：电动汽车数据集包含了多个维度的信息，如 GPS 位置、电量情
况、充电状态、车辆型号和电池信息等，为研究充电需求和行驶特征提供了丰富的数
据来源。
4. 充电站信息详实：充电站数据集涉及充电站的各种信息，如是否推荐、可用充
电桩数量、充电站经纬度坐标、充电站ID、运营商ID、是否支持折扣和运营类型等，
有助于分析充电站的供需关系。
5. 数据集融合：通过将电动汽车数据集与充电站数据集相结合，可以更全面地
分析电动汽车的充电需求及其对充电站的影响，从而为电动汽车和充电设施的规划
与优化提供有益的指导和建议。
6. 地理位置特定：本研究的数据集主要来源于上海地区，这将有助于针对该地
区的特点进行深入分析，提供地区特定的解决方案和建议。
3.4 充放电行为识别
在对数据集进行特征提取的过程中，可以选取充电时间、充电量、充电模式、车
辆状态，车速等特征，对电动汽车的充放电行为进行分类和识别，在本研究中，将充
放电行为细分为以下四类：
1. 充电行为：当电动汽车连接到充电桩并进行充电时，称为充电行为。这些行为
7
可以从数据集中的充电状态和充电时间等信息进行识别。分析充电行为有助于了解
电动汽车的实际充电需求，以及不同类型车辆、不同时间段和地区的充电需求差异。
2. 放电行为：当电动汽车在行驶过程中消耗电能时，称为放电行为。通过分析
电动汽车的行驶轨迹、电量消耗等数据，可以了解电动汽车的放电特征，包括行驶距
离、耗电速率以及不同类型车辆的放电特点。
3. 潜在充电需求：指电动汽车在特定情况下可能需要充电但尚未进行充电的行
为。本研究中，若车辆电量低于SOC的阈值50%时，可以认为存在潜在的充电需求。
分析潜在充电行为有助于评估充电设施的实际需求，并为优化充电站布局和运营提
供依据。
4. 满电状态：当电动汽车的电量达到最大充电容量时，称为满电状态。满电状态
可以通过充电量和车辆电池容量进行判断。了解满电状态有助于评估充电过程的完
成度和车辆可用性。
根据电动汽车数据字段定义和数值说明，对数据集按照上述充放电行为的定
义进行分类，具体来说，数据集在 vehicledata_vehiclestatus 为 01 启动状态，处于
vehicledata_chargestatus 为 03 未充电或者是 vehicledata_chargestatus 为 02 行驶充电
但 vehicledata_soc 值并未增加的时候被识别为放电行为。同理，当数据集 vehicle-
data_vehiclestatus 为 02 熄火状态，vehicledata_chargestatus 为 04 充电完成或者 vehi-
cledata_chargestatus为03但vehicledata_soc值为100时被识别为满电状态。当数据集
vehicledata_vehiclestatus为02熄火状态，vehicledata_chargestatus为01停车充电时或
者vehicledata_chargestatus为02行驶充电但vehicledata_soc值增加的时候被识别为充
电行为。当数据集 vehicledata_chargestatus 为 03 未充电且 vehicledata_soc 值低于 50
时被识别为潜在充电需求。
图2展示了一天中电动车辆的时空变化与SOC之间的联系，以及各阶段的充放电
行为的识别。
8
图2 充放电行为识别
3.5 Fast unfolding 社区发现算法
Fast unfolding 算法将社区合并和划分，视为不断优化模块度的过程。具体来说，
算法首先将每个节点视为一个单独的社区，然后按照边权重从大到小的顺序逐一合
并社区，直到模块度不能再提高为止。在每次合并社区时，算法计算每个节点和其它
社区的模块度变化量，选择使得模块度增加最大的社区进行合并。最终得到的社区划
分即为算法的输出结果。
其数学公式如下：
给定网络G = (V,E)，其中V 是节点集合，E 是边集合。假设每个节点i都属于
某个社区c ，则社区发现的目标是最小化以下模块度函数：
i
[ ]
∑ (∑ )
∑m c c 2
Q = in − tot (1)
2m 2m
c=1
∑ ∑
其中A 是节点i和节点j之间的边权重，k = A 是节点i的度数，m = 1 A
ij i j ij 2 i,j ij
是网络的边权重之和，δ(c ,c ) = 1 如果i和j 属于同一社区，否则为0。
i j
[ ] [ ]
∑ (∑ ) ∑ (∑ ) ( )
ci +k ci +k 2 ci ci 2 k 2
∆Q = in i,in − tot i − in − tot − i (2)
2m 2m 2m 2m 2m
9
公式中计算了将节点i与社区合并之后的模块度增量。其中，∆Q表示总的模块度增
量，m表示网络总边权重之和，c 表示节点i所在的社区，k 表示节点i的度数，k
i i i,in
表示节点i 到社区c 内的度数之和。
i
为了平衡城市充电资源，合理规划建设充电站，项目使用 Fast unfolding 社区发
现算法[27]识别充电站社区。该算法将电动汽车充放电行为视为社区内节点之间的连
接关系，同一社区内的电动汽车进行聚合，以进一步识别不同的充电站社区。充电站
社区识别的结果详见后文。
3.6 项目框架与界面设计
3.6.1 可视化框架
本研究致力于通过开发一个功能丰富的可视化平台，直观展示和理解基于 GPS
数据的电动汽车充放电特征。该平台旨在以清晰、直观的方式呈现大量的电动汽车
GPS 数据，使相关人员能够快速了解充放电需求特征及其潜在规律。
在平台的构建过程中，采用了两个强大的地理大数据可视化框架，分别是deck.gl[28]和
mapbox[29]。这些工具允许将多张图层的数据整合在一起，并展示出多种丰富的地图
样式。图3展示了平台的前端可视化框架分布情况。deck.gl是一款高效的地理大数据
可视化框架，能够轻松处理大量地图数据，并提供多种地图展示方式，包括2D、3D
和点云等。这样的特性使用户能够从不同角度和尺度深入了解地图数据的特点和规
律。而作为全球领先的地图公司之一，mapbox提供了多样化的地图样式和地图服务，
满足了用户对地图可视化的多样需求。
为了实现多图层数据交叠整合，采用了一系列技术手段，包括数据清洗、数据重
构和数据标准化等。这些技术手段不仅保证了数据的准确性和一致性，还有助于提高
数据挖掘和分析的效率。具体而言，数据清洗用于剔除错误、重复或无关的信息；数
据重构将数据重新组织，以便于进一步的分析和挖掘；数据标准化可消除不同数据源
之间的差异，使得数据更具可比性。
通过构建的可视化平台，用户可以更加直观地了解 GPS 数据的充放电特征，包
括车辆的行驶轨迹、充电需求和充电站等方面的信息。此外，该平台还有助于研究人
员和决策者更好地评估和优化电动汽车的充电设施布局，以满足未来电动汽车市场
10
的发展需求。
图3 前端可视化框架
3.6.2 项目总体框架
该项目的总体框架如图4所示，由五个层次组成，包括基础设施层、数据层、技
术支撑层、应用层和展示层。
在基础设施层，城市感知网络起着关键作用，其中包括摄像头、RFID、GPS 和
各类传感器等设备。此外，城市计算中心提供计算资源池、存储资源池和网络资源池
等关键基础设施支持。
数据层主要涵盖电动汽车数据和充电站数据，并对这些数据进行清洗、处理、转
换以及载入与挖掘等操作。通过这一层次的处理，可以获取有关城市电动汽车和充电
站的有价值的信息。
技术支撑层采用了诸多相关技术，如JavaScript、Redux、Transbigdata、FastUn-
folding、Node.js和Geopandas等。这些技术为项目的顺利进行提供了技术支持，并在
数据处理和分析中发挥了重要作用。
应用层主要包括基于 Mapbox 和 Deck.gl 的前端框架，用于可视化展示路网、轨
迹、充电需求热力图、充电站社区、充电站供需情况以及充电负荷曲线等重要信息。
最后，展示层涵盖了PC端、Web端、移动端和大屏等多种界面形式，以满足不
11
同用户的需求，提供可视化结果的广泛展示。这些界面为各类利益相关方提供了方便
的访问途径，以便随时随地获取相关信息并作出相应决策。
图4 项目总体框架
3.6.3 可视化平台界面设计
1. 充电负荷曲线
在平台界面设计中，项目设计了充电负荷曲线，包括实际充电负荷曲线和潜在充
电负荷曲线。
实际充电负荷曲线的计算基于处理完善的数据集，其中包含车辆充电状态、充电
时间、电池电量以及充电功率等信息。通过观察每次充电记录的充电开始和结束时的
12
电池电量，可以直接计算充电量。充电量可通过充电结束时的电池电量减去充电开始
时的电池电量得到。此外，充电时间可通过观察充电开始和结束时的时间戳计算，即
充电结束时的时间戳减去充电开始时的时间戳。已知充电功率后，可将充电功率与充
电时间相乘，得到实际充电负荷（以千瓦时为单位）。最后，将每辆车在不同时间段
的实际充电负荷汇总，得出各时间段内的实际充电负荷需求。若需计算特定区域的实
际充电负荷需求，可只对该区域内的车辆进行汇总。
潜在充电负荷曲线的估算采用启发式方法和设定的阈值规则。首先，准备完善的
数据集，包括电动汽车的行驶轨迹、车辆类型、剩余电量和充电记录等信息。基于电
动汽车的行驶轨迹数据，计算每辆车在不同时间段的行驶距离，并根据车辆类型和行
驶距离参考不同类型车辆的能耗参数（如每公里耗电量），从而计算每辆车在不同时
间段的能耗量。同时，分析充电记录，了解每辆车的充电习惯，例如充电频率、充电
时段和充电时长等。
为了估算潜在充电需求，设定了一个剩余电量阈值（例如 50%）。当车辆的剩余
电量低于此阈值时，视为车辆需要进行充电。对于每辆车，检查其在不同时间段的剩
余电量和行车状态。若剩余电量低于设定阈值，并且该时间段车辆通常充电，则认定
该时间段存在潜在充电需求。可计算出每辆车在不同时间段的潜在充电需求。最后，
将所选区域内所有车辆在不同时间段的潜在充电需求汇总，得到潜在充电负荷曲线。
2.空间分布热力图
在平台界面设计中，根据实际充电需求和潜在充电需求，项目设计了空间分布热
力图。旨在直观地展示不同时间段和区域的充电需求分布。通过调整热力图的参数，
如星期、时间段、半径、颜色强度和阈值，用户可以根据需求定制充电需求的可视化
展示。
首先，将充电需求数据整理为适合制作热力图的格式。接着，根据不同的星期和
时间段筛选出数据，创建了独立的热力图。这些热力图可以帮助用户更好地了解充电
需求在一周内的变化以及不同时间段的充电负荷。
此外，平台提供了可调整的热力图参数，例如半径，强度和阈值。半径参数决定
了热力图中的充电需求点如何聚合，强度则表示充电需求的高低。通过调整这些参
13
数，用户可以根据自己的需求和偏好定制热力图的展示效果。
阈值参数可以用来过滤低于特定充电需求水平的区域，从而使高需求区域在热
力图中更为突出。这一功能有助于城市规划者、充电设施运营商以及电动汽车相关政
策制定者更好地理解充电需求的空间分布，以便合理布局充电设施和优化资源配。
3.充电站供需分析图
在平台界面设计中，项目设计了充电站供需分析图。通过匹配车辆与附近的充电
站的经纬度坐标信息，将车辆的实际充电负荷需求和潜在充电负荷需求数据与充电
站数据集空间分布关联起来。
对于实际充电需求，项目统计了每个充电站的实际充电负荷需求，并将其与充电
站的可用充电桩数量进行比较。这有助于识别出哪些充电站可能面临供应不足的问
题，以及哪些充电站具有扩大服务范围的潜力，对于充电站的运营和规划具有重要意
义。
对于潜在充电需求，项目结合充电站的其他信息（如是否支持折扣、运营类型
等）并计算目标区域内车辆密度、充电站分布等空间数据，反应每个充电站的潜在充
电负荷需求，并分析了潜在需求与实际需求之间的差异。这有助于揭示哪些充电站可
能存在未被充分利用的市场潜力，为未来充电设施布局提供有益参考。
最后，通过调整选定的充电站区域半径，在地图上以散点图的形式呈现充电站位
置，并通过颜色深浅显示总需求量，并在侧边显示充电站的实际充电需求曲线和潜在
充电需求曲线。
4.其他功能设计
为了提供更好的用户体验和互动功能性，平台还设计了以下功能：
地图放大缩小功能：这一功能允许用户根据需要调整地图的缩放级别，从而获得
更详细或更广泛的视图。通过提供放大和缩小按钮，用户可以自由切换地图的缩放级
别，以满足其特定的观察需求。
地图图层更换功能：平台提供地图图层更换的功能，用户可以根据需求和偏好选
择合适的地图图层（卫星图，街道图等），以获得所需的地理信息。
自由选区功能：为了实现更精确的数据分析和展示，用户能够在地图上自由绘制
14
形状或区域，以选择特定的地理区域。这对于针对选定区域的详细分析、数据聚合和
相关可视化是非常有用的。
更改镜头位置功能：用户能够自由更改地图上的镜头位置，以改变视角和观察角
度，以不同的视角来查看地图。
4. 平台部署与案例分析
4.1 平台部署
本研究采用多种工具和库来构建实验环境并于GithubActions上进行部署，以下
是实验环境的主要组成部分及其相应的安装配置过程。
项目安装 Python 编程语言及其相关库：numpy、matplotlib、pandas、geopandas、
transbigdata、igraph和seaborn。这些库提供了丰富的数据处理、统计分析、可视化和
地理空间分析功能，为研究提供了强大的支持。
其次，安装Node.js和npm，用于执行JavaScript代码和管理Node.js包和依赖项。
同时，安装yarn作为替代的软件包管理器，提供更快速、可靠的依赖项安装过程。
在实验环境中，安装 React、React DOM 和 Redux 作为构建 React 应用程序所需
的核心库。React 是一种用于构建用户界面的 JavaScript 库，而 Redux 是一种可预测
的状态管理库，它们为可视化平台提供了基础架构。
为了将React和Redux结合使用，安装官方推荐的绑定库react-redux，以方便在
React组件中访问Redux状态树。
此外，安装babelify和babel-preset-react作为Babel插件，用于将JSX（JavaScript
XML）转换为浏览器可理解的JavaScript代码。这些插件确保在开发过程中能够使用
最新的JavaScript特性，同时保持代码的兼容性。
本项目使用react-app-rewiredbuild对整个平台进行打包。此外，GitHubActions支
持多种编程语言和框架，并提供便捷的集成和自动化部署功能。基于出于安全性，便利
性，合作性和适用性的综合考虑，项目使用GitHubActions对打包后的平台部署在个人
网站上，以便提高发布效率，优化用户体验，减少用户下载和安装应用程序的难度、风
险以及时间成本，同时便于分享与协作。Github地址为：https://www.github.com/Uncle-
Road/Thesis。
15
4.2 案例分析
4.2.1 交通路网
如图5所示，以 10 月份的电动汽车 GPS 数据为例，项目通过数据可视化技术将
这些数据映射到地图上，并设置栅格参数为300，从而清晰地展示了整个上海市的交
通路网状况。在 10 月份的数据分析中，上海市的交通路网呈现出相当复杂的特点。
值得注意的是，市中心与城郊之间的分布差异非常明显，表现出从市中心向外辐射逐
渐减少的趋势。
交通路网的可视化有助于更直观地了解电动汽车在不同区域的分布情况。通过
对这些数据的分析，可以进一步研究不同区域的充电需求和潜在需求，为优化充电设
施布局和运营提供重要依据。同时，这也有助于更好地了解电动汽车在城市交通中的
作用，为未来的交通规划和管理提供有益的参考。
图5 交通路网
16
4.2.2 车辆轨迹
如图6所示，在本研究中，对 10 月 1 日的电动汽车轨迹数据进行了可视化处理。
从数据集中提取出10月1日所有电动汽车的GPS轨迹信息。接着，利用地理信息系
统（GIS）和相关可视化工具，将这些轨迹数据映射到上海市的地图上。在轨迹数据
可视化分析过程中，通过地图呈现车辆的移动轨迹，并使用颜色编码等技术展示车辆
的速度和行驶状态等相关信息，从而直观地了解车辆在该时间段内的出行情况。
通过对 10 月 1 日的车辆轨迹进行可视化，可以观察到电动汽车在城市不同区域
的分布和行驶特征。此外，还能分析车辆在一天中的行驶模式，例如高峰期和非高峰
期的行驶轨迹与车辆行驶速度的差异。也可以通过轨迹发现，车辆在高速公路/主干
道/次干路上通常行驶速度较快、此外，因为节假日和特殊天气条件的原因，车辆出
行规律往往也会有所变化。
图6 10月1日交通轨迹图
4.2.3 充电站社区建设
项目根据电动汽车数据中的时间，GPS 坐标，充放电状态，将其转化为 OD[30]
（起点-终点）数据。电动汽车充放电行为视为社区内节点之间的连接关系，采用Fast
17
Unfolding社区发现算法对数据进行社区划分和计算，并对社区化的可信度进行评估。
结果显示，模块化指数达到了0.9816，表明该方法能够准确地展现不同社区之间的充
电差异和连通性。
图7展示了充电站社区划分的结果，共计 230 个充电站社区基于这些分析结果，
政府相关部门可以根据各个社区的需求和现有的充电站数据，合理规划充电站的建
设位置和数量，优化调整不同充电社区的充电需求，提高充电站的利用率和运营管理
能力，制定更为切实可行的充电站建设方案，以满足未来充电需求的攀升。
图7 充电站社区建设
4.2.4 充电需求负荷曲线
以图8所选的区域为例，在所选取的区域内，在充电需求的分析中，周末和工作
日呈现出不同的模式。在工作日，实际充电负荷和潜在充电负荷呈现双峰分布，但实
际充电负荷和潜在充电负荷的峰值并不相同。
相比之下，周末的实际充电负荷和潜在充电负荷呈现单峰分布。此时，实际充电
负荷和潜在充电负荷的高峰时间段和峰值都不同于工作日。这可能是由于周末的出
18
行模式和用车需求与工作日有所不同，因此充电需求呈现出与工作日不同的单一峰
值模式。
另外，潜在充电负荷量较实际充电负荷量大。这意味着在实际充电需求中，未能
满足所有潜在的充电需求，有一部分需求未得到充分满足。这可能是由于充电设施的
数量不足或者分布不均匀，导致部分用户无法在需要时获得充电服务。
在一天的时间段中，早上 6 点的充电负荷最小。此时，由于人们尚未开始出行，
车辆基本处于满电状态，因此充电需求相对较低。这一发现对于充电设施的优化和电
网负载管理具有重要意义。可以考虑在早上6点时进行充电设施的维护和调整，以充
分利用低负荷时段进行设备维护和能源管理。
最后，为了满足不断增长的充电需求，适度提高区域电网负载能力是必要的。随
着电动汽车数量的增加和充电需求的增长，电网的负载能力需要相应提升。这可以通
过电网升级、增加充电设施容量和改进充电基础设施来实现，以确保充电服务的可靠
性和稳定性。
图8 选区实际/潜在充电需求
19
4.2.5 充电需求热力图
在本研究中，选取了工作日与周末的 8 点到 20 点这一时间段，对充电需求热力
图进行对比分析。如图9所示，在相同参数条件下，周末与工作日的需求热点呈现出
明显的不同特征。
实际充电需求方面，工作日和周末呈现出不同的分布特点。在工作日，热点数量
相对较少且主要集中在浦东的商业办公区。而在周末，实际充电需求的热力图显示热
点数量明显增多，并且分布相对均匀。
潜在充电需求方面，工作日的热点呈现出市中心向周边辐射递减的趋势，这可能
是因为在工作日，市中心的商业活动更为密集，而在周边地区的活动则相对较少。而
在周末，潜在充电需求的分布则相对均匀，分散在上海的各个区域。
政府决策者和充电设施运营商在规划和建设充电设施时应考虑这些差异，以更
好地满足不同时间段的充电需求。
图9 充电需求热力图
4.2.6 充电站供需分析
如图10所示，以上海浦东区的充电站为例，选用半径为3.6km的参数对该区域的
充电站供需情况进行可视化分析。研究结果揭示，该区域的充电站在工作日和周末表
现出截然不同的模式。具体来说，在工作日，充电站的实际充电负荷呈现双峰分布，
20
而潜在充电负荷则呈现单峰分布。相比之下，在周末，充电站的实际充电负荷呈现单
峰分布，并且潜在充电负荷相对稳定，大约维持在4kWh左右。
进一步分析显示，充电站的实际充电负荷波动较大，并且峰值更高。这可能与市
民在上午正式上班前选择在充电站进行充电有关。这种现象可能是由于工作日的高
峰期集中在早晨时段，当人们上班前需要充电以确保电动汽车的充足电量。
这些发现揭示了充电站在不同时间段的实际充电负荷和潜在充电负荷的差异。了
解和分析这些模式对于充电站的运营和规划具有重要意义，可以帮助提高充电设施
的供需平衡，优化充电资源的分配，以及更好地满足市民的充电需求。
图10 充电站供需分析
5. 结论
本研究基于 GPS 数据进行电动汽车充放电特征挖掘与可视化，成功构建了智能
电动汽车云平台。研究从项目主题确定开始，通过数据采集、预处理和探索性分析，
深入了解数据的结构、分布和相关性，提取了一系列有意义的特征，包括电动汽车的
地理位置分布、充电时长频率和速度等。最后，通过数据分析，得出了数据挖掘结果，
并通过云平台实现了路网、轨迹、充电站社区、充电需求热力图、区域充电需求时变
21
以及充电站供需分析的可视化展示。
在项目实践过程中，认识到数据预处理和特征提取对确保数据挖掘质量具有至
关重要的作用，同时适当的可视化方法能更直观地呈现数据挖掘成果。此外，本项目
对电动汽车行业的研究和应用具有重要的参考价值。
总体而言，通过本项目的实践，笔者对工业项目流程以及数据挖掘与可视化技术
的应用有了更深入的理解和认识。坚信这些经验和技能对未来的工作和研究具有积
极的影响和意义。
22
参考文献
[1] GUOM,SIKHAG,WHITERE.Single-particlemodelforalithium-ioncell:Thermal
behavior[J].JournalofTheElectrochemicalSociety,2010,158(2):A122.
[2] CAMACHOEF,ALBACB.Modelpredictivecontrol[M].Springerscience&busi-
nessmedia,2013.
[3] COWGILL M C, HARVEY R J, WATSON L T. A genetic algorithm approach to
clusteranalysis[J].Computers&MathematicswithApplications,1999,37(7):99-108.
[4] KENNEDY J, EBERHART R. Particle swarm optimization[C]//Proceedings of
ICNN’95-internationalconference onneuralnetworks:vol.4.1995:1942-1948.
[5] REDDYJN.Introductiontothefiniteelementmethod[M].McGraw-HillEducation,
2019.
[6] LIPNIKOV K, MANZINI G, SHASHKOV M. Mimetic finite difference method[J].
JournalofComputationalPhysics,2014,257:1163-1227.
[7] GIRSHICK R. Fast r-cnn[C]//Proceedings of the IEEE international conference on
computervision.2015:1440-1448.
[8] SHERSTINSKYA.Fundamentalsofrecurrentneuralnetwork(RNN)andlongshort-
term memory (LSTM) network[J]. Physica D: Nonlinear Phenomena, 2020, 404:
132306.
[9] MA T Y, FAYE S. Multistep electric vehicle charging station occupancy prediction
usinghybridLSTMneuralnetworks[J].Energy,2022,244:123217.
[10] LI Y, YU R, SHAHABI C, et al. Diffusion convolutional recurrent neural network:
Data-driventrafficforecasting[J].arXivpreprintarXiv:1707.01926,2017.
[11] WUZ,PANS,LONGG,etal.Graphwavenetfor deepspatial-temporalgraphmod-
eling[J].arXivpreprintarXiv:1906.00121,2019.
[12] MA H, ZHOU M, OUYANG X, et al. Forecasting Regional Multimodal Transporta-
tion Demand with Graph Neural Networks: An Open Dataset[C]//2022 IEEE 25th
International Conference on Intelligent Transportation Systems (ITSC). 2022:3263-
3268.
[13] YUB,YINH,ZHUZ.Spatio-temporalgraphconvolutionalnetworks:Adeeplearn-
ingframeworkfortrafficforecasting[J].arXivpreprintarXiv:1709.04875,2017.
[14] WANGY,CAIS,SHENY,etal.Theanalysisofelectricalvehicleschargingbehavior
based on charging big data[C]//2019 IEEE 4th International Conference on Cloud
ComputingandBigDataAnalysis(ICCCBDA).2019:63-67.
23
[15] KRISHNA K, MURTY M N. Genetic K-means algorithm[J]. IEEE Transactions on
Systems,Man,andCybernetics,PartB(Cybernetics),1999,29(3):433-439.
[16] YABING J. Research of an improved apriori algorithm in data mining association
rules[J]. International Journal of Computer and Communication Engineering, 2013,
2(1):25.
[17] SCHNEIDER C M, BELIK V, COURONNÉ T, et al. Unravelling daily human mo-
bilitymotifs[J].JournalofTheRoyalSocietyInterface,2013,10(84):20130246.
[18] ASAKURAY,HATOE.Trackingsurveyforindividualtravelbehaviourusingmobile
communicationinstruments[J].TransportationResearchPartC:EmergingTechnolo-
gies,2004,12(3-4):273-291.
[19] AHAS R, SILM S, JÄRV O, et al. Using mobile positioning data to model locations
meaningful to users of mobile phones[J]. Journal of urban technology, 2010, 17(1):
3-27.
[20] ALEXANDER L, JIANG S, MURGA M, et al. Origin–destination trips by purpose
and time of day inferred from mobile phone data[J]. Transportation research part c:
emergingtechnologies,2015,58:240-250.
[21] CHANG K T. Introduction to geographic information systems: vol. 4[M]. Mcgraw-
hillBoston,2008.
[22] RENW,BIANX,GONGJ,etal.AnalysisandVisualizationofNewEnergyVehicle
BatteryData[J].FutureInternet,2022,14(8):225.
[23] SHAHRIAR S, AL-ALI A. Impacts of COVID-19 on Electric Vehicle Charging Be-
havior:DataAnalytics,Visualization,andClustering[J].AppliedSystemInnovation,
2022,5(1):12.
[24] DONKERSA,YANGD,VIKTOROVIĆM.Influenceofdrivingstyle,infrastructure,
weatherandtrafficonelectricvehicleperformance[J].TransportationresearchpartD:
transportandenvironment,2020,88:102569.
[25] WUQ,NIELSENAH,ØSTERGAARDJ,etal.Drivingpatternanalysisforelectric
vehicle(EV)gridintegrationstudy[C]//2010ieeepesinnovativesmartgridtechnolo-
giesconference europe(isgteurope).2010:1-6.
[26] YUQ,YUANJ.TransBigData:APythonpackagefortransportationspatio-temporal
big data processing, analysis and visualization[J]. Journal of Open Source Software,
2022,7(71):4021.
[27] BLONDEL V D, GUILLAUME J L, LAMBIOTTE R, et al. Fast unfolding of com-
munitiesinlargenetworks[J].Journalofstatisticalmechanics:theoryandexperiment,
2008,2008(10):P10008.
24
[28] WANG Y. Deck. gl: Large-scale web-based visual analytics made easy[J]. arXiv
preprintarXiv:1910.08865,2019.
[29] ACHARYA A, RAJE M, et al. MAPbox: Using Parameterized Behavior Classes to
ConfineUntrustedApplications.[C]//USENIX SecuritySymposium.2000:1-1.
[30] LIU L, QIU Z, LI G, et al. Contextualized spatial–temporal network for taxi origin-
destination demand prediction[J]. IEEE Transactions on Intelligent Transportation
Systems,2019,20(10):3875-3887.
25
致谢
转眼间，走到了大学本科的最终章，感谢这一路过来，舍友哥们家人朋友同学老
师给予的帮助和鼓励，让我这样一个小屁孩，在大学的时间里逐渐完善了自己的三
观，学会拒绝，学会对待自己，逐渐走向成熟。我一直记得好哥们杨李俊和我说的一
句来自五月天的歌词：
少年回头望，笑我还不快跟上。
现在回顾过去的四年，我没有成为幻想中大佬的模样，在一路的跌跌撞撞中，也
算找到了一个还不错的出路，在此特别感谢我的舍友兼固定队友马浩原，在大学四年
里对我的帮助和影响，让我逐渐从迷茫困惑走出来。
同时，感谢我大学里教导我的宋轩老师，余庆老师，尹渡老师，姜仁河老师，孙
便霞老师。他们在我整个本科生涯中，给予了我无私的指导和帮助，给予了我耐心细
致的指导和建议。他们严谨治学、一丝不苟的工作作风和对学生的关心与帮助，深深
地感染和激励着我。在此，表示深深的感谢和崇高的敬意。
最后感谢我的父母家人们，感谢你们一直以来无私的爱着我，尊重我的选择，我
爱你们
最后的最后感谢一路上陪伴我走过一段又一段人生路的人，尽管在人生这一趟
上，有的人上车又下车，但陪我度过那些美好的时光，我将永于记在脑海里，那些都
是我这一生中最珍贵的宝藏。
希望在未来的几十年里，我亦能努力奔跑，跟上。
26